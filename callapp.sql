-- phpMyAdmin SQL Dump
-- version 4.9.7
-- https://www.phpmyadmin.net/
--
-- Хост: localhost
-- Время создания: Янв 22 2026 г., 07:02
-- Версия сервера: 8.0.34-26-beget-1-1
-- Версия PHP: 5.6.40

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET AUTOCOMMIT = 0;
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- База данных: `k98108ya_callapp`
--

-- --------------------------------------------------------

--
-- Структура таблицы `blocked_contacts`
--
-- Создание: Дек 11 2025 г., 18:37
--

DROP TABLE IF EXISTS `blocked_contacts`;
CREATE TABLE `blocked_contacts` (
  `id` int NOT NULL,
  `user_id` int NOT NULL,
  `blocked_user_id` int NOT NULL,
  `blocked_phone` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `blocked_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Дамп данных таблицы `blocked_contacts`
--

INSERT INTO `blocked_contacts` (`id`, `user_id`, `blocked_user_id`, `blocked_phone`, `blocked_at`) VALUES
(2, 7, 1, '+1234567890', '2026-01-12 05:48:33');

-- --------------------------------------------------------

--
-- Структура таблицы `call_history`
--
-- Создание: Янв 15 2026 г., 17:17
--

DROP TABLE IF EXISTS `call_history`;
CREATE TABLE `call_history` (
  `id` int NOT NULL,
  `caller_id` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL,
  `callee_id` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL,
  `call_type` enum('outgoing','incoming','missed') COLLATE utf8mb4_unicode_ci NOT NULL,
  `call_status` enum('completed','missed','rejected','failed') COLLATE utf8mb4_unicode_ci NOT NULL,
  `duration` int DEFAULT '0',
  `call_time` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `deleted_by_caller` tinyint(1) DEFAULT '0',
  `deleted_by_callee` tinyint(1) DEFAULT '0'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Дамп данных таблицы `call_history`
--

INSERT INTO `call_history` (`id`, `caller_id`, `callee_id`, `call_type`, `call_status`, `duration`, `call_time`, `deleted_by_caller`, `deleted_by_callee`) VALUES
(8, '18', '19', 'incoming', 'completed', 19, '2026-01-14 06:13:05', 0, 0),
(9, '18', '19', 'outgoing', 'completed', 24, '2026-01-14 06:13:05', 0, 0),
(20, '13', '7', 'outgoing', 'completed', 9, '2026-01-15 16:35:26', 1, 0),
(22, '13', '7', 'outgoing', 'completed', 11, '2026-01-15 17:20:55', 1, 0);

-- --------------------------------------------------------

--
-- Структура таблицы `chats`
--
-- Создание: Дек 12 2025 г., 17:43
--

DROP TABLE IF EXISTS `chats`;
CREATE TABLE `chats` (
  `id` bigint NOT NULL,
  `chat_name` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `chat_type` enum('private','group') COLLATE utf8mb4_unicode_ci DEFAULT 'private',
  `created_by` int DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `is_deleted_for_everyone` tinyint(1) DEFAULT '0'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Дамп данных таблицы `chats`
--

INSERT INTO `chats` (`id`, `chat_name`, `chat_type`, `created_by`, `created_at`, `is_deleted_for_everyone`) VALUES
(19, 'User_693923bae6c25', 'private', 7, '2025-12-10 09:57:09', 1),
(21, 'User_693923bae6c25', 'private', 7, '2025-12-13 02:45:27', 0),
(24, 'Behruz', 'private', 7, '2025-12-13 03:14:33', 0),
(25, 'Bob Smith', 'private', 7, '2025-12-13 03:20:49', 0),
(26, 'User_6930126e85c73', 'private', 13, '2025-12-15 16:23:50', 0),
(27, 'User_696732babd0ab', 'private', 18, '2026-01-14 06:09:28', 0),
(43, 'Test Group Name', 'group', 19, '2026-01-17 16:34:16', 0),
(44, 'HarryPotter', 'group', 7, '2026-01-17 16:35:59', 1),
(45, '11', 'group', 7, '2026-01-17 16:41:34', 1),
(46, 'Test Group Name', 'group', 7, '2026-01-17 16:43:26', 1),
(47, 'Developers', 'group', 7, '2026-01-19 04:26:54', 1),
(48, 'Test', 'group', 7, '2026-01-19 05:55:26', 0);

-- --------------------------------------------------------

--
-- Структура таблицы `chat_deletion_status`
--
-- Создание: Дек 12 2025 г., 17:54
--

DROP TABLE IF EXISTS `chat_deletion_status`;
CREATE TABLE `chat_deletion_status` (
  `id` bigint NOT NULL,
  `chat_id` bigint NOT NULL,
  `user_id` int NOT NULL,
  `is_deleted_for_me` tinyint(1) DEFAULT '0',
  `deleted_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Дамп данных таблицы `chat_deletion_status`
--

INSERT INTO `chat_deletion_status` (`id`, `chat_id`, `user_id`, `is_deleted_for_me`, `deleted_at`) VALUES
(2, 21, 7, 1, '2025-12-15 05:38:14'),
(3, 43, 7, 1, '2026-01-17 16:34:59');

-- --------------------------------------------------------

--
-- Структура таблицы `chat_notification_settings`
--
-- Создание: Янв 22 2026 г., 03:47
-- Последнее обновление: Янв 22 2026 г., 03:47
--

DROP TABLE IF EXISTS `chat_notification_settings`;
CREATE TABLE `chat_notification_settings` (
  `id` bigint NOT NULL,
  `user_id` int NOT NULL,
  `chat_id` bigint NOT NULL,
  `notifications_enabled` tinyint(1) DEFAULT '1',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Дамп данных таблицы `chat_notification_settings`
--

INSERT INTO `chat_notification_settings` (`id`, `user_id`, `chat_id`, `notifications_enabled`, `created_at`) VALUES
(1, 7, 19, 1, '2026-01-22 03:47:15'),
(2, 12, 19, 1, '2026-01-22 03:47:15'),
(3, 7, 21, 1, '2026-01-22 03:47:15'),
(4, 9, 21, 1, '2026-01-22 03:47:15'),
(5, 1, 24, 1, '2026-01-22 03:47:15'),
(6, 7, 24, 1, '2026-01-22 03:47:15'),
(7, 7, 25, 1, '2026-01-22 03:47:15'),
(8, 8, 25, 1, '2026-01-22 03:47:15'),
(9, 7, 26, 1, '2026-01-22 03:47:15'),
(10, 13, 26, 1, '2026-01-22 03:47:15'),
(11, 18, 27, 1, '2026-01-22 03:47:15'),
(12, 19, 27, 1, '2026-01-22 03:47:15'),
(13, 7, 43, 1, '2026-01-22 03:47:15'),
(14, 8, 43, 1, '2026-01-22 03:47:15'),
(15, 9, 43, 1, '2026-01-22 03:47:15'),
(16, 19, 43, 1, '2026-01-22 03:47:15'),
(17, 7, 44, 1, '2026-01-22 03:47:15'),
(18, 8, 44, 1, '2026-01-22 03:47:15'),
(19, 7, 45, 1, '2026-01-22 03:47:15'),
(20, 13, 45, 1, '2026-01-22 03:47:15'),
(21, 7, 46, 1, '2026-01-22 03:47:15'),
(22, 8, 46, 1, '2026-01-22 03:47:15'),
(23, 9, 46, 1, '2026-01-22 03:47:15'),
(24, 19, 46, 1, '2026-01-22 03:47:15'),
(25, 1, 47, 1, '2026-01-22 03:47:15'),
(26, 7, 47, 1, '2026-01-22 03:47:15'),
(27, 8, 47, 1, '2026-01-22 03:47:15'),
(28, 1, 48, 1, '2026-01-22 03:47:15'),
(29, 7, 48, 1, '2026-01-22 03:47:15'),
(30, 8, 48, 1, '2026-01-22 03:47:15'),
(31, 9, 48, 1, '2026-01-22 03:47:15');

-- --------------------------------------------------------

--
-- Структура таблицы `chat_participants`
--
-- Создание: Дек 11 2025 г., 18:37
--

DROP TABLE IF EXISTS `chat_participants`;
CREATE TABLE `chat_participants` (
  `id` bigint NOT NULL,
  `chat_id` bigint NOT NULL,
  `user_id` int NOT NULL,
  `joined_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `left_at` timestamp NULL DEFAULT NULL,
  `is_admin` tinyint(1) DEFAULT '0'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Дамп данных таблицы `chat_participants`
--

INSERT INTO `chat_participants` (`id`, `chat_id`, `user_id`, `joined_at`, `left_at`, `is_admin`) VALUES
(37, 19, 7, '2025-12-10 09:57:09', NULL, 1),
(38, 19, 12, '2025-12-10 09:57:09', NULL, 0),
(41, 21, 7, '2025-12-13 02:45:27', NULL, 1),
(42, 21, 9, '2025-12-13 02:45:27', NULL, 0),
(47, 24, 7, '2025-12-13 03:14:33', NULL, 1),
(48, 24, 1, '2025-12-13 03:14:33', NULL, 0),
(49, 25, 7, '2025-12-13 03:20:49', NULL, 1),
(50, 25, 8, '2025-12-13 03:20:49', NULL, 0),
(51, 26, 13, '2025-12-15 16:23:50', NULL, 1),
(52, 26, 7, '2025-12-15 16:23:50', NULL, 0),
(53, 27, 18, '2026-01-14 06:09:28', NULL, 1),
(54, 27, 19, '2026-01-14 06:09:28', NULL, 0),
(101, 43, 19, '2026-01-17 16:34:16', NULL, 1),
(102, 43, 7, '2026-01-17 16:34:16', NULL, 0),
(103, 43, 8, '2026-01-17 16:34:16', NULL, 0),
(104, 43, 9, '2026-01-17 16:34:16', NULL, 0),
(105, 44, 7, '2026-01-17 16:35:59', NULL, 1),
(106, 44, 8, '2026-01-17 16:35:59', NULL, 0),
(107, 45, 7, '2026-01-17 16:41:35', NULL, 1),
(108, 45, 13, '2026-01-17 16:41:35', NULL, 0),
(109, 46, 19, '2026-01-17 16:43:26', NULL, 0),
(110, 46, 7, '2026-01-17 16:43:26', NULL, 1),
(111, 46, 8, '2026-01-17 16:43:26', NULL, 0),
(112, 46, 9, '2026-01-17 16:43:26', NULL, 0),
(113, 47, 7, '2026-01-19 04:26:54', NULL, 1),
(114, 47, 1, '2026-01-19 04:26:54', NULL, 0),
(115, 47, 8, '2026-01-19 04:26:54', NULL, 0),
(116, 48, 7, '2026-01-19 05:55:26', NULL, 1),
(117, 48, 1, '2026-01-19 05:55:26', NULL, 0),
(118, 48, 8, '2026-01-19 05:55:26', NULL, 0),
(119, 48, 9, '2026-01-19 14:27:17', NULL, 0);

-- --------------------------------------------------------

--
-- Структура таблицы `contacts`
--
-- Создание: Дек 11 2025 г., 18:37
--

DROP TABLE IF EXISTS `contacts`;
CREATE TABLE `contacts` (
  `id` int NOT NULL,
  `user_id` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL,
  `contact_user_id` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `contact_name` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `contact_phone` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `is_favorite` tinyint(1) DEFAULT '0',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Дамп данных таблицы `contacts`
--

INSERT INTO `contacts` (`id`, `user_id`, `contact_user_id`, `contact_name`, `contact_phone`, `is_favorite`, `created_at`) VALUES
(2, '7', '8', 'Bob Smith', '+992987654322', 0, '2025-12-05 06:31:44'),
(3, '1', '9', 'Carol Williams', '+992987654323', 1, '2025-12-05 06:31:44'),
(4, '7', '1', 'Behruz', '+1234567890', 0, '2025-12-07 15:53:24'),
(12, '7', '9', 'contact4', '+7987046624', 0, '2025-12-15 05:42:06'),
(13, '13', '7', 'contact5', '+992987046624', 0, '2025-12-15 16:23:40'),
(14, '7', '13', 'contact6', '+992988888888', 0, '2026-01-12 05:57:48'),
(15, '18', '19', 'contact7', '+992927199559', 0, '2026-01-14 06:09:22');

-- --------------------------------------------------------

--
-- Структура таблицы `messages`
--
-- Создание: Дек 11 2025 г., 18:37
-- Последнее обновление: Янв 21 2026 г., 18:21
--

DROP TABLE IF EXISTS `messages`;
CREATE TABLE `messages` (
  `id` bigint NOT NULL,
  `chat_id` bigint NOT NULL,
  `sender_id` int NOT NULL,
  `message_text` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `message_type` enum('text','image','audio','video','file') COLLATE utf8mb4_unicode_ci DEFAULT 'text',
  `file_url` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `file_name` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `file_size` int DEFAULT NULL,
  `reply_to` bigint DEFAULT NULL,
  `edited_at` timestamp NULL DEFAULT NULL,
  `is_deleted_for_everyone` tinyint(1) DEFAULT '0',
  `is_deleted_for_me` tinyint(1) DEFAULT '0',
  `sent_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Дамп данных таблицы `messages`
--

INSERT INTO `messages` (`id`, `chat_id`, `sender_id`, `message_text`, `message_type`, `file_url`, `file_name`, `file_size`, `reply_to`, `edited_at`, `is_deleted_for_everyone`, `is_deleted_for_me`, `sent_at`) VALUES
(1, 26, 13, 'Тестовое сообщение через Postman', 'text', NULL, NULL, NULL, NULL, NULL, 0, 0, '2026-01-21 16:27:58'),
(2, 26, 13, '', 'image', 'uploads/messages/img_6970fe9bcfec03.12225285.png', 'ChatGPT Image 17 янв. 2026 г., 15_55_48.png', 2854326, NULL, NULL, 0, 0, '2026-01-21 16:28:11'),
(3, 26, 13, '', 'audio', 'uploads/messages/aud_6970fea1b20f20.84090167.mp3', 'songuna.mp3', 1011992, NULL, NULL, 0, 0, '2026-01-21 16:28:17'),
(4, 26, 13, '', 'video', 'uploads/messages/vid_6970fead93cfd2.03210678.mp4', 'ssstik.io_@semenyakmusic_1718571822922.mp4', 2070274, NULL, NULL, 0, 0, '2026-01-21 16:28:29'),
(5, 26, 13, '', 'video', 'uploads/messages/vid_6970feb91efaa2.63386718.mp4', 'ssstik.io_@semenyakmusic_1718571822922.mp4', 2070274, NULL, NULL, 0, 0, '2026-01-21 16:28:41'),
(6, 26, 13, '', 'audio', 'uploads/messages/aud_6970febba60915.91408482.mp3', 'songuna.mp3', 1011992, NULL, NULL, 0, 0, '2026-01-21 16:28:43'),
(7, 26, 13, '', 'image', 'uploads/messages/img_6970fec01308e3.97887526.png', 'ChatGPT Image 17 янв. 2026 г., 15_55_48.png', 2854326, NULL, NULL, 0, 0, '2026-01-21 16:28:48'),
(8, 26, 13, '', 'image', 'uploads/messages/img_6970feccbc3c26.47566976.png', 'ChatGPT Image 17 янв. 2026 г., 15_55_48.png', 2854326, NULL, NULL, 0, 0, '2026-01-21 16:29:00'),
(9, 26, 13, '', 'audio', 'uploads/messages/aud_6970fed0124c51.09798774.mp3', 'songuna.mp3', 1011992, NULL, NULL, 0, 0, '2026-01-21 16:29:04'),
(10, 26, 13, '', 'video', 'uploads/messages/vid_6970fed15fbfc8.90643478.mp4', 'ssstik.io_@semenyakmusic_1718571822922.mp4', 2070274, NULL, NULL, 0, 0, '2026-01-21 16:29:05'),
(11, 26, 13, 'Тестовое сообщение через Postman', 'text', NULL, NULL, NULL, NULL, NULL, 0, 0, '2026-01-21 16:45:35'),
(12, 26, 13, 'Тестовое сообщение через Postman', 'text', NULL, NULL, NULL, NULL, NULL, 0, 0, '2026-01-21 17:05:16'),
(13, 26, 13, 'Тестовое сообщение через Postman', 'text', NULL, NULL, NULL, NULL, NULL, 0, 0, '2026-01-21 17:05:46'),
(14, 26, 13, 'Тестовое сообщение через Postman', 'text', NULL, NULL, NULL, NULL, NULL, 0, 0, '2026-01-21 17:10:27'),
(15, 26, 13, 'Тестовое сообщение через Postman', 'text', NULL, NULL, NULL, NULL, NULL, 0, 0, '2026-01-21 17:11:11'),
(16, 26, 13, 'Тестовое сообщение через Postman', 'text', NULL, NULL, NULL, NULL, NULL, 0, 0, '2026-01-21 17:16:56'),
(17, 26, 13, 'Тестовое сообщение через Postman', 'text', NULL, NULL, NULL, NULL, NULL, 0, 0, '2026-01-21 17:18:56'),
(18, 26, 13, 'Тестовое сообщение через Postman', 'text', NULL, NULL, NULL, NULL, NULL, 0, 0, '2026-01-21 17:32:21'),
(19, 26, 13, '', 'image', 'uploads/messages/img_69710db5c864b6.37446968.png', 'ChatGPT Image 17 янв. 2026 г., 15_55_48.png', 2854326, NULL, NULL, 0, 0, '2026-01-21 17:32:37'),
(20, 26, 13, '', 'image', 'uploads/messages/img_69710dc7490770.90067346.png', 'ChatGPT Image 17 янв. 2026 г., 15_55_48.png', 2854326, NULL, NULL, 0, 0, '2026-01-21 17:32:55'),
(21, 26, 13, 'Тестовое сообщение через Postman', 'text', NULL, NULL, NULL, NULL, NULL, 0, 0, '2026-01-21 17:34:08'),
(22, 26, 13, 'Тестовое сообщение через Postman', 'text', NULL, NULL, NULL, NULL, NULL, 0, 0, '2026-01-21 17:41:40'),
(23, 26, 13, 'Тестовое сообщение через Postman', 'text', NULL, NULL, NULL, NULL, NULL, 0, 0, '2026-01-21 17:41:59'),
(24, 26, 13, '', 'image', 'uploads/messages/img_69711003848487.96224676.png', 'ChatGPT Image 17 янв. 2026 г., 15_55_48.png', 2854326, NULL, NULL, 0, 0, '2026-01-21 17:42:27'),
(25, 26, 13, 'Тестовое сообщение через Postman', 'text', NULL, NULL, NULL, NULL, NULL, 0, 0, '2026-01-21 17:43:07'),
(26, 26, 13, 'Тестовое сообщение через Postman', 'text', NULL, NULL, NULL, NULL, NULL, 0, 0, '2026-01-21 17:45:26'),
(27, 26, 13, '', 'image', 'uploads/messages/img_697118dc703bd9.01227515.png', 'ChatGPT Image 17 янв. 2026 г., 15_55_48.png', 2854326, NULL, NULL, 0, 0, '2026-01-21 18:20:12'),
(28, 26, 13, 'Тестовое сообщение через Postman', 'text', NULL, NULL, NULL, NULL, NULL, 0, 0, '2026-01-21 18:20:43'),
(29, 26, 13, 'Тестовое сообщение через Postman', 'text', NULL, NULL, NULL, NULL, NULL, 0, 0, '2026-01-21 18:21:05');

-- --------------------------------------------------------

--
-- Структура таблицы `message_receipts`
--
-- Создание: Дек 11 2025 г., 18:37
-- Последнее обновление: Янв 22 2026 г., 04:02
--

DROP TABLE IF EXISTS `message_receipts`;
CREATE TABLE `message_receipts` (
  `id` bigint NOT NULL,
  `message_id` bigint NOT NULL,
  `user_id` int NOT NULL,
  `receipt_type` enum('delivered','seen') COLLATE utf8mb4_unicode_ci DEFAULT 'delivered',
  `received_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Дамп данных таблицы `message_receipts`
--

INSERT INTO `message_receipts` (`id`, `message_id`, `user_id`, `receipt_type`, `received_at`) VALUES
(74, 46, 12, 'delivered', '2025-12-10 09:57:15'),
(75, 47, 12, 'delivered', '2025-12-10 09:57:21'),
(76, 48, 12, 'delivered', '2025-12-11 17:41:39'),
(77, 49, 12, 'delivered', '2025-12-11 18:38:11'),
(78, 50, 12, 'delivered', '2025-12-11 18:55:11'),
(79, 51, 12, 'delivered', '2025-12-11 18:55:13'),
(80, 52, 12, 'delivered', '2025-12-11 18:58:33'),
(81, 53, 12, 'delivered', '2025-12-11 18:58:34'),
(82, 54, 9, 'delivered', '2025-12-13 02:45:35'),
(83, 55, 1, 'delivered', '2025-12-13 03:17:10'),
(84, 56, 1, 'delivered', '2025-12-13 03:26:29'),
(85, 57, 1, 'delivered', '2025-12-13 04:57:21'),
(86, 58, 8, 'delivered', '2025-12-14 09:32:43'),
(87, 59, 8, 'delivered', '2025-12-14 09:36:40'),
(88, 60, 8, 'delivered', '2025-12-14 09:36:52'),
(89, 61, 8, 'delivered', '2025-12-14 09:37:00'),
(90, 62, 8, 'delivered', '2025-12-14 09:49:58'),
(91, 63, 8, 'delivered', '2025-12-14 11:54:06'),
(92, 64, 8, 'delivered', '2025-12-14 13:12:11'),
(93, 65, 8, 'delivered', '2025-12-14 13:23:09'),
(94, 66, 8, 'delivered', '2025-12-14 15:10:47'),
(95, 67, 8, 'delivered', '2025-12-14 16:12:59'),
(96, 68, 8, 'delivered', '2025-12-14 16:40:21'),
(97, 69, 8, 'delivered', '2025-12-14 19:10:33'),
(98, 70, 8, 'delivered', '2025-12-14 19:10:43'),
(99, 71, 1, 'delivered', '2025-12-15 05:45:27'),
(100, 72, 1, 'delivered', '2025-12-15 05:46:04'),
(101, 73, 1, 'delivered', '2025-12-15 05:46:13'),
(102, 74, 8, 'delivered', '2025-12-15 06:08:08'),
(103, 75, 7, 'delivered', '2025-12-15 16:23:58'),
(104, 75, 7, 'seen', '2026-01-21 16:22:52'),
(108, 76, 13, 'delivered', '2025-12-15 16:25:05'),
(110, 76, 13, 'seen', '2026-01-21 16:23:52'),
(118, 77, 7, 'delivered', '2025-12-15 16:25:35'),
(122, 77, 7, 'seen', '2026-01-21 16:22:52'),
(135, 78, 13, 'delivered', '2025-12-15 16:25:53'),
(137, 78, 13, 'seen', '2026-01-21 16:23:52'),
(184, 79, 13, 'delivered', '2025-12-22 16:08:19'),
(195, 79, 13, 'seen', '2026-01-21 16:23:52'),
(300, 80, 7, 'delivered', '2026-01-05 08:50:15'),
(312, 80, 7, 'seen', '2026-01-21 16:22:52'),
(1069, 81, 7, 'delivered', '2026-01-06 11:22:05'),
(1805, 81, 7, 'seen', '2026-01-21 16:22:52'),
(2832, 82, 7, 'delivered', '2026-01-07 04:54:18'),
(2918, 82, 7, 'seen', '2026-01-21 16:22:52'),
(5069, 83, 13, 'delivered', '2026-01-11 15:30:51'),
(10293, 83, 13, 'seen', '2026-01-21 16:23:52'),
(10335, 84, 7, 'delivered', '2026-01-12 05:58:23'),
(10345, 84, 7, 'seen', '2026-01-21 16:22:52'),
(10390, 85, 7, 'delivered', '2026-01-12 05:58:59'),
(10581, 85, 7, 'seen', '2026-01-21 16:22:52'),
(10596, 86, 19, 'delivered', '2026-01-14 06:09:32'),
(10597, 86, 19, 'seen', '2026-01-14 06:17:26'),
(10627, 87, 18, 'delivered', '2026-01-14 06:11:07'),
(10629, 87, 18, 'seen', '2026-01-14 06:17:00'),
(10658, 88, 19, 'delivered', '2026-01-14 06:11:55'),
(10660, 88, 19, 'seen', '2026-01-14 06:17:26'),
(10730, 89, 18, 'delivered', '2026-01-14 06:15:06'),
(10752, 89, 18, 'seen', '2026-01-14 06:17:00'),
(10795, 90, 19, 'delivered', '2026-01-14 06:16:23'),
(10798, 90, 19, 'seen', '2026-01-14 06:17:26'),
(10842, 91, 19, 'delivered', '2026-01-14 06:16:52'),
(10846, 91, 19, 'seen', '2026-01-14 06:17:26'),
(12055, 92, 1, 'delivered', '2026-01-19 05:38:49'),
(12056, 92, 8, 'delivered', '2026-01-19 05:38:49'),
(12057, 93, 7, 'delivered', '2026-01-20 16:48:19'),
(12058, 93, 8, 'delivered', '2026-01-20 16:48:19'),
(12059, 94, 7, 'delivered', '2026-01-20 17:27:03'),
(12060, 95, 7, 'delivered', '2026-01-21 05:12:01'),
(12075, 96, 13, 'delivered', '2026-01-21 05:37:27'),
(12160, 97, 13, 'delivered', '2026-01-21 05:40:04'),
(12196, 98, 7, 'delivered', '2026-01-21 05:41:21'),
(12204, 98, 7, 'seen', '2026-01-21 16:22:52'),
(12213, 99, 7, 'delivered', '2026-01-21 09:18:38'),
(12222, 99, 7, 'seen', '2026-01-21 16:22:52'),
(12232, 100, 7, 'delivered', '2026-01-21 09:25:32'),
(12233, 101, 7, 'delivered', '2026-01-21 09:29:36'),
(12234, 102, 7, 'delivered', '2026-01-21 09:31:19'),
(12235, 103, 7, 'delivered', '2026-01-21 09:31:55'),
(12236, 104, 7, 'delivered', '2026-01-21 09:32:10'),
(12237, 105, 7, 'delivered', '2026-01-21 09:32:34'),
(12238, 106, 7, 'delivered', '2026-01-21 09:34:19'),
(12239, 107, 7, 'delivered', '2026-01-21 09:36:40'),
(12240, 108, 7, 'delivered', '2026-01-21 09:36:57'),
(12241, 109, 7, 'delivered', '2026-01-21 10:21:07'),
(12242, 110, 7, 'delivered', '2026-01-21 10:22:23'),
(12243, 111, 7, 'delivered', '2026-01-21 10:26:03'),
(12244, 112, 7, 'delivered', '2026-01-21 10:27:15'),
(12245, 113, 7, 'delivered', '2026-01-21 10:29:53'),
(12246, 114, 7, 'delivered', '2026-01-21 10:32:50'),
(12247, 115, 7, 'delivered', '2026-01-21 10:50:42'),
(12248, 116, 7, 'delivered', '2026-01-21 10:52:18'),
(12258, 100, 7, 'seen', '2026-01-21 16:22:53'),
(12259, 101, 7, 'seen', '2026-01-21 16:22:53'),
(12260, 102, 7, 'seen', '2026-01-21 16:22:53'),
(12261, 103, 7, 'seen', '2026-01-21 16:22:53'),
(12262, 104, 7, 'seen', '2026-01-21 16:22:53'),
(12263, 105, 7, 'seen', '2026-01-21 16:22:53'),
(12264, 106, 7, 'seen', '2026-01-21 16:22:53'),
(12265, 107, 7, 'seen', '2026-01-21 16:22:53'),
(12266, 108, 7, 'seen', '2026-01-21 16:22:53'),
(12267, 109, 7, 'seen', '2026-01-21 16:22:53'),
(12268, 110, 7, 'seen', '2026-01-21 16:22:53'),
(12269, 111, 7, 'seen', '2026-01-21 16:22:53'),
(12270, 112, 7, 'seen', '2026-01-21 16:22:53'),
(12271, 113, 7, 'seen', '2026-01-21 16:22:53'),
(12272, 114, 7, 'seen', '2026-01-21 16:22:53'),
(12273, 115, 7, 'seen', '2026-01-21 16:22:53'),
(12274, 116, 7, 'seen', '2026-01-21 16:22:53'),
(13575, 117, 7, 'delivered', '2026-01-21 10:56:49'),
(13576, 118, 7, 'delivered', '2026-01-21 10:59:25'),
(13577, 119, 7, 'delivered', '2026-01-21 13:14:38'),
(13578, 120, 7, 'delivered', '2026-01-21 13:25:18'),
(13579, 121, 7, 'delivered', '2026-01-21 13:25:53'),
(13580, 122, 7, 'delivered', '2026-01-21 13:48:38'),
(13581, 123, 7, 'delivered', '2026-01-21 13:54:50'),
(13582, 124, 7, 'delivered', '2026-01-21 13:58:11'),
(13583, 125, 7, 'delivered', '2026-01-21 13:58:44'),
(13584, 126, 7, 'delivered', '2026-01-21 14:12:34'),
(13585, 127, 7, 'delivered', '2026-01-21 14:33:43'),
(13586, 128, 7, 'delivered', '2026-01-21 14:38:58'),
(13613, 117, 7, 'seen', '2026-01-21 16:22:53'),
(13614, 118, 7, 'seen', '2026-01-21 16:22:53'),
(13615, 119, 7, 'seen', '2026-01-21 16:22:53'),
(13616, 120, 7, 'seen', '2026-01-21 16:22:53'),
(13617, 121, 7, 'seen', '2026-01-21 16:22:53'),
(13618, 122, 7, 'seen', '2026-01-21 16:22:53'),
(13619, 123, 7, 'seen', '2026-01-21 16:22:53'),
(13620, 124, 7, 'seen', '2026-01-21 16:22:53'),
(13621, 125, 7, 'seen', '2026-01-21 16:22:53'),
(13622, 126, 7, 'seen', '2026-01-21 16:22:53'),
(13623, 127, 7, 'seen', '2026-01-21 16:22:53'),
(13624, 128, 7, 'seen', '2026-01-21 16:22:53'),
(13701, 129, 7, 'delivered', '2026-01-21 15:00:58'),
(13702, 130, 7, 'delivered', '2026-01-21 15:04:12'),
(13703, 131, 7, 'delivered', '2026-01-21 15:04:36'),
(13704, 132, 7, 'delivered', '2026-01-21 15:04:49'),
(13705, 133, 7, 'delivered', '2026-01-21 15:04:53'),
(13744, 129, 7, 'seen', '2026-01-21 16:22:53'),
(13745, 130, 7, 'seen', '2026-01-21 16:22:53'),
(13746, 131, 7, 'seen', '2026-01-21 16:22:53'),
(13747, 132, 7, 'seen', '2026-01-21 16:22:53'),
(13748, 133, 7, 'seen', '2026-01-21 16:22:53'),
(14566, 134, 7, 'delivered', '2026-01-21 15:19:23'),
(14567, 135, 7, 'delivered', '2026-01-21 15:19:33'),
(14568, 136, 7, 'delivered', '2026-01-21 15:19:40'),
(14569, 137, 7, 'delivered', '2026-01-21 15:19:50'),
(14570, 138, 7, 'delivered', '2026-01-21 15:22:18'),
(14571, 139, 7, 'delivered', '2026-01-21 15:22:25'),
(14572, 140, 7, 'delivered', '2026-01-21 15:22:35'),
(14573, 141, 7, 'delivered', '2026-01-21 15:27:05'),
(14574, 142, 7, 'delivered', '2026-01-21 15:27:19'),
(14575, 143, 7, 'delivered', '2026-01-21 15:27:25'),
(14576, 144, 7, 'delivered', '2026-01-21 15:27:35'),
(14577, 145, 7, 'delivered', '2026-01-21 15:27:52'),
(14578, 146, 7, 'delivered', '2026-01-21 15:28:48'),
(14579, 147, 7, 'delivered', '2026-01-21 15:30:46'),
(14580, 148, 7, 'delivered', '2026-01-21 15:31:27'),
(14581, 149, 7, 'delivered', '2026-01-21 15:32:41'),
(14582, 150, 7, 'delivered', '2026-01-21 15:35:18'),
(14583, 151, 7, 'delivered', '2026-01-21 15:35:26'),
(14584, 152, 7, 'delivered', '2026-01-21 15:35:33'),
(14585, 153, 7, 'delivered', '2026-01-21 15:39:04'),
(14586, 154, 7, 'delivered', '2026-01-21 15:45:58'),
(14630, 134, 7, 'seen', '2026-01-21 16:22:53'),
(18151, 155, 7, 'delivered', '2026-01-21 15:53:08'),
(18152, 156, 7, 'delivered', '2026-01-21 16:00:40'),
(18153, 157, 7, 'delivered', '2026-01-21 16:01:16'),
(19210, 158, 7, 'delivered', '2026-01-21 16:03:43'),
(19387, 159, 7, 'delivered', '2026-01-21 16:04:05'),
(20888, 96, 13, 'seen', '2026-01-21 16:23:52'),
(20889, 97, 13, 'seen', '2026-01-21 16:23:52'),
(20890, 1, 7, 'delivered', '2026-01-21 16:27:58'),
(20891, 2, 7, 'delivered', '2026-01-21 16:28:11'),
(20892, 3, 7, 'delivered', '2026-01-21 16:28:17'),
(20893, 4, 7, 'delivered', '2026-01-21 16:28:29'),
(20894, 5, 7, 'delivered', '2026-01-21 16:28:41'),
(20895, 6, 7, 'delivered', '2026-01-21 16:28:43'),
(20896, 7, 7, 'delivered', '2026-01-21 16:28:48'),
(20897, 8, 7, 'delivered', '2026-01-21 16:29:00'),
(20898, 9, 7, 'delivered', '2026-01-21 16:29:04'),
(20899, 10, 7, 'delivered', '2026-01-21 16:29:05'),
(20900, 1, 7, 'seen', '2026-01-22 04:02:18'),
(20901, 2, 7, 'seen', '2026-01-22 04:02:18'),
(20902, 3, 7, 'seen', '2026-01-22 04:02:18'),
(20903, 4, 7, 'seen', '2026-01-22 04:02:18'),
(20904, 5, 7, 'seen', '2026-01-22 04:02:18'),
(20905, 6, 7, 'seen', '2026-01-22 04:02:18'),
(20906, 7, 7, 'seen', '2026-01-22 04:02:18'),
(20907, 8, 7, 'seen', '2026-01-22 04:02:18'),
(20908, 9, 7, 'seen', '2026-01-22 04:02:18'),
(20909, 10, 7, 'seen', '2026-01-22 04:02:18'),
(20980, 11, 7, 'delivered', '2026-01-21 16:45:35'),
(20981, 12, 7, 'delivered', '2026-01-21 17:05:16'),
(20982, 13, 7, 'delivered', '2026-01-21 17:05:46'),
(20983, 14, 7, 'delivered', '2026-01-21 17:10:27'),
(20984, 15, 7, 'delivered', '2026-01-21 17:11:11'),
(20985, 16, 7, 'delivered', '2026-01-21 17:16:56'),
(20986, 17, 7, 'delivered', '2026-01-21 17:18:56'),
(20997, 11, 7, 'seen', '2026-01-22 04:02:18'),
(20998, 12, 7, 'seen', '2026-01-22 04:02:18'),
(20999, 13, 7, 'seen', '2026-01-22 04:02:18'),
(21000, 14, 7, 'seen', '2026-01-22 04:02:18'),
(21001, 15, 7, 'seen', '2026-01-22 04:02:18'),
(21002, 16, 7, 'seen', '2026-01-22 04:02:18'),
(21003, 17, 7, 'seen', '2026-01-22 04:02:18'),
(21038, 18, 7, 'delivered', '2026-01-21 17:32:21'),
(21056, 18, 7, 'seen', '2026-01-22 04:02:18'),
(21075, 19, 7, 'delivered', '2026-01-21 17:32:37'),
(21076, 20, 7, 'delivered', '2026-01-21 17:32:55'),
(21077, 21, 7, 'delivered', '2026-01-21 17:34:08'),
(21096, 19, 7, 'seen', '2026-01-22 04:02:18'),
(21097, 20, 7, 'seen', '2026-01-22 04:02:18'),
(21098, 21, 7, 'seen', '2026-01-22 04:02:18'),
(21330, 22, 7, 'delivered', '2026-01-21 17:41:40'),
(21352, 22, 7, 'seen', '2026-01-22 04:02:18'),
(21397, 23, 7, 'delivered', '2026-01-21 17:41:59'),
(21420, 23, 7, 'seen', '2026-01-22 04:02:18'),
(21467, 24, 7, 'delivered', '2026-01-21 17:42:27'),
(21468, 25, 7, 'delivered', '2026-01-21 17:43:07'),
(21469, 26, 7, 'delivered', '2026-01-21 17:45:26'),
(21470, 27, 7, 'delivered', '2026-01-21 18:20:12'),
(21494, 24, 7, 'seen', '2026-01-22 04:02:18'),
(21495, 25, 7, 'seen', '2026-01-22 04:02:18'),
(21496, 26, 7, 'seen', '2026-01-22 04:02:18'),
(21497, 27, 7, 'seen', '2026-01-22 04:02:18'),
(21579, 28, 7, 'delivered', '2026-01-21 18:20:44'),
(21607, 28, 7, 'seen', '2026-01-22 04:02:18'),
(21664, 29, 7, 'delivered', '2026-01-21 18:21:06'),
(21693, 29, 7, 'seen', '2026-01-22 04:02:18');

-- --------------------------------------------------------

--
-- Структура таблицы `notification_settings`
--
-- Создание: Янв 20 2026 г., 04:43
-- Последнее обновление: Янв 20 2026 г., 04:43
--

DROP TABLE IF EXISTS `notification_settings`;
CREATE TABLE `notification_settings` (
  `id` int NOT NULL,
  `user_id` int NOT NULL,
  `message_notifications` tinyint(1) DEFAULT '1',
  `call_notifications` tinyint(1) DEFAULT '1',
  `group_notifications` tinyint(1) DEFAULT '1',
  `sound_enabled` tinyint(1) DEFAULT '1',
  `vibration_enabled` tinyint(1) DEFAULT '1',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Дамп данных таблицы `notification_settings`
--

INSERT INTO `notification_settings` (`id`, `user_id`, `message_notifications`, `call_notifications`, `group_notifications`, `sound_enabled`, `vibration_enabled`, `created_at`) VALUES
(1, 1, 1, 1, 1, 1, 1, '2026-01-20 04:43:46'),
(2, 9, 1, 1, 1, 1, 1, '2026-01-20 04:43:46'),
(3, 17, 1, 1, 1, 1, 1, '2026-01-20 04:43:46'),
(4, 16, 1, 1, 1, 1, 1, '2026-01-20 04:43:46'),
(5, 12, 1, 1, 1, 1, 1, '2026-01-20 04:43:46'),
(6, 19, 1, 1, 1, 1, 1, '2026-01-20 04:43:46'),
(7, 18, 1, 1, 1, 1, 1, '2026-01-20 04:43:46'),
(8, 8, 1, 1, 1, 1, 1, '2026-01-20 04:43:46'),
(9, 7, 1, 1, 1, 1, 1, '2026-01-20 04:43:46'),
(10, 10, 1, 1, 1, 1, 1, '2026-01-20 04:43:46'),
(11, 11, 1, 1, 1, 1, 1, '2026-01-20 04:43:46'),
(12, 14, 1, 1, 1, 1, 1, '2026-01-20 04:43:46'),
(13, 13, 1, 1, 1, 1, 1, '2026-01-20 04:43:46'),
(14, 15, 1, 1, 1, 1, 1, '2026-01-20 04:43:46');

-- --------------------------------------------------------

--
-- Структура таблицы `sms_codes`
--
-- Создание: Дек 11 2025 г., 18:37
--

DROP TABLE IF EXISTS `sms_codes`;
CREATE TABLE `sms_codes` (
  `id` int NOT NULL,
  `phone_number` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL,
  `code` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `expires_at` timestamp NOT NULL,
  `is_used` tinyint(1) DEFAULT '0'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Дамп данных таблицы `sms_codes`
--

INSERT INTO `sms_codes` (`id`, `phone_number`, `code`, `created_at`, `expires_at`, `is_used`) VALUES
(1, '+992987046624', '1111', '2025-12-03 10:35:10', '2025-12-03 12:40:10', 1),
(2, '+992987046620', '1111', '2025-12-03 12:54:15', '2025-12-03 14:59:15', 1),
(3, '+992987046624', '1111', '2025-12-03 13:21:39', '2025-12-03 15:26:39', 0),
(4, '+992987046624', '1111', '2025-12-03 13:21:41', '2025-12-03 15:26:41', 1),
(5, '+992+7987046624', '1111', '2025-12-03 13:22:41', '2025-12-03 15:27:41', 1),
(6, '+992987046624', '1111', '2025-12-03 14:11:44', '2025-12-03 16:16:44', 1),
(7, '+992987046624', '1111', '2025-12-03 14:26:58', '2025-12-03 16:31:58', 1),
(8, '+992987046624', '1111', '2025-12-03 16:07:00', '2025-12-03 18:12:00', 1),
(9, '+992987046624', '1111', '2025-12-03 16:37:07', '2025-12-03 18:42:07', 1),
(10, '+992987046624', '1111', '2025-12-04 04:29:40', '2025-12-04 06:34:40', 1),
(11, '+992987046624', '1111', '2025-12-04 04:37:35', '2025-12-04 06:42:35', 1),
(12, '+992987046624', '1111', '2025-12-04 04:39:09', '2025-12-04 06:44:09', 1),
(13, '+992987046624', '1111', '2025-12-04 08:50:23', '2025-12-04 10:55:23', 1),
(14, '+992987046624', '1111', '2025-12-04 09:26:46', '2025-12-04 11:31:45', 1),
(15, '+992987046624', '1111', '2025-12-04 09:44:25', '2025-12-04 11:49:25', 1),
(16, '+992987046624', '1111', '2025-12-04 09:58:10', '2025-12-04 12:03:10', 1),
(17, '+992987046624', '1111', '2025-12-04 10:34:06', '2025-12-04 12:39:06', 1),
(18, '+992987046624', '1111', '2025-12-04 10:59:17', '2025-12-04 13:04:17', 1),
(19, '+992987046624', '1111', '2025-12-04 16:14:15', '2025-12-04 18:19:15', 1),
(20, '+992987046624', '1111', '2025-12-04 16:22:06', '2025-12-04 18:27:06', 1),
(21, '+992987046624', '1111', '2025-12-04 16:50:16', '2025-12-04 18:55:16', 1),
(22, '+992987046624', '1111', '2025-12-05 03:39:58', '2025-12-05 05:44:58', 1),
(23, '+992987046624', '1111', '2025-12-05 04:17:06', '2025-12-05 06:22:06', 1),
(24, '+992987046624', '1111', '2025-12-05 04:36:14', '2025-12-05 06:41:14', 1),
(25, '+992987046624', '1111', '2025-12-05 04:49:31', '2025-12-05 06:54:31', 1),
(26, '+992987046624', '1111', '2025-12-05 05:15:12', '2025-12-05 07:20:12', 1),
(27, '+992987046624', '1111', '2025-12-05 09:22:45', '2025-12-05 11:27:45', 1),
(28, '+992987046624', '1111', '2025-12-05 09:58:46', '2025-12-05 12:03:46', 1),
(29, '+992987046624', '1111', '2025-12-06 05:24:15', '2025-12-06 07:29:15', 1),
(30, '+992987046624', '1111', '2025-12-06 05:49:24', '2025-12-06 07:54:24', 1),
(31, '+992987046624', '1111', '2025-12-07 14:23:56', '2025-12-07 16:28:56', 0),
(32, '+992987046624', '1111', '2025-12-07 14:40:35', '2025-12-07 16:45:35', 1),
(33, '+992987046624', '1111', '2025-12-07 14:56:13', '2025-12-07 17:01:13', 1),
(34, '+992987046624', '1111', '2025-12-07 15:34:37', '2025-12-07 17:39:37', 1),
(35, '+992987046624', '1111', '2025-12-07 15:48:14', '2025-12-07 17:53:14', 1),
(36, '+992987046624', '1111', '2025-12-07 15:51:48', '2025-12-07 17:56:48', 1),
(37, '+992987046624', '1111', '2025-12-07 16:10:01', '2025-12-07 18:15:01', 1),
(38, '+992987046624', '1111', '2025-12-07 17:11:00', '2025-12-07 19:16:00', 1),
(39, '+992987046624', '1111', '2025-12-08 02:39:30', '2025-12-08 04:44:30', 1),
(40, '+992987046624', '1111', '2025-12-08 03:44:51', '2025-12-08 05:49:51', 1),
(41, '+992987654321', '1111', '2025-12-08 04:56:55', '2025-12-08 07:01:55', 1),
(42, '+992987777777', '1111', '2025-12-09 09:40:33', '2025-12-09 11:45:33', 1),
(43, '+992918906014', '1111', '2025-12-10 07:39:36', '2025-12-10 09:44:36', 1),
(44, '+992987046624', '1111', '2025-12-10 09:44:55', '2025-12-10 11:49:55', 1),
(45, '+992918906014', '1111', '2025-12-10 09:51:37', '2025-12-10 11:56:37', 1),
(46, '+992987046624', '1111', '2025-12-11 14:25:06', '2025-12-11 16:30:06', 1),
(47, '+992988888888', '1111', '2025-12-15 16:23:11', '2025-12-15 18:28:11', 1),
(48, '+99298888888', '1111', '2025-12-15 17:19:09', '2025-12-15 19:24:09', 1),
(49, '+99298888888', '1111', '2025-12-15 17:34:28', '2025-12-15 19:39:28', 1),
(50, '+9929888888888', '1111', '2025-12-15 18:02:40', '2025-12-15 20:07:40', 1),
(51, '+992987654321', '1111', '2025-12-15 18:06:16', '2025-12-15 20:11:16', 1),
(52, '+992988888888', '1111', '2025-12-16 04:22:09', '2025-12-16 06:27:09', 1),
(53, '+992988888888', '1111', '2025-12-16 04:44:01', '2025-12-16 06:49:01', 1),
(54, '+992988888888', '1111', '2025-12-16 05:19:58', '2025-12-16 07:24:58', 1),
(55, '+992988888888', '1111', '2025-12-17 09:34:08', '2025-12-17 11:39:08', 1),
(56, '+992988888888', '1111', '2025-12-17 10:58:13', '2025-12-17 13:03:13', 1),
(57, '+992988888888', '1111', '2025-12-21 07:48:05', '2025-12-21 09:53:05', 1),
(58, '+992987046624', '1111', '2025-12-21 17:03:24', '2025-12-21 19:08:24', 1),
(59, '+992988888888', '1111', '2025-12-22 03:56:45', '2025-12-22 06:01:45', 1),
(60, '+992988888888', '1111', '2025-12-22 05:08:49', '2025-12-22 07:13:49', 1),
(61, '+992987046624', '1111', '2025-12-24 03:27:40', '2025-12-24 05:32:40', 1),
(62, '+992988888888', '1111', '2025-12-24 03:27:58', '2025-12-24 05:32:58', 1),
(63, '+992988888888', '1111', '2025-12-24 14:50:26', '2025-12-24 16:55:26', 1),
(64, '+992987046624', '1111', '2025-12-24 14:57:18', '2025-12-24 17:02:18', 1),
(65, '+992988888888', '1111', '2025-12-25 16:02:26', '2025-12-25 18:07:26', 1),
(66, '+992988888888', '1111', '2025-12-29 05:15:16', '2025-12-29 07:20:16', 1),
(67, '+992988888888', '1111', '2025-12-29 05:26:24', '2025-12-29 07:31:24', 1),
(68, '+992988888888', '1111', '2025-12-30 03:17:46', '2025-12-30 05:22:46', 1),
(69, '+992988888888', '1111', '2025-12-30 04:14:21', '2025-12-30 06:19:21', 1),
(70, '+992987046624', '1111', '2025-12-30 06:19:00', '2025-12-30 08:24:00', 1),
(71, '+992987046624', '1111', '2025-12-30 07:27:13', '2025-12-30 09:32:13', 1),
(72, '+992987046624', '1111', '2026-01-04 16:26:50', '2026-01-04 18:31:50', 1),
(73, '+992907466244', '1111', '2026-01-04 17:23:45', '2026-01-04 19:28:45', 1),
(74, '+992987046624', '1111', '2026-01-04 17:24:09', '2026-01-04 19:29:09', 1),
(75, '+99268', '1111', '2026-01-04 17:27:38', '2026-01-04 19:32:37', 1),
(76, '+992987046624', '1111', '2026-01-04 17:28:39', '2026-01-04 19:33:39', 1),
(77, '+992987046624', '1111', '2026-01-05 06:17:21', '2026-01-05 08:22:21', 1),
(78, '+992988888888', '1111', '2026-01-05 08:35:06', '2026-01-05 10:40:06', 1),
(79, '+992987046624', '1111', '2026-01-05 08:47:35', '2026-01-05 10:52:35', 1),
(80, '+992988888888', '1111', '2026-01-05 16:11:43', '2026-01-05 18:16:43', 1),
(81, '+992988888888', '1111', '2026-01-06 09:35:02', '2026-01-06 11:40:02', 1),
(82, '+992988888888', '1111', '2026-01-06 10:53:10', '2026-01-06 12:58:10', 1),
(83, '+992988888888', '1111', '2026-01-06 15:58:47', '2026-01-06 18:03:47', 1),
(84, '+992988888888', '1111', '2026-01-06 16:50:46', '2026-01-06 18:55:46', 1),
(85, '+992988888888', '1111', '2026-01-07 04:52:19', '2026-01-07 06:57:19', 1),
(86, '+992987046624', '1111', '2026-01-07 06:25:09', '2026-01-07 08:30:09', 1),
(87, '+992987046624', '1111', '2026-01-07 06:37:45', '2026-01-07 08:42:45', 1),
(88, '+992988888888', '1111', '2026-01-12 07:13:40', '2026-01-12 09:18:40', 1),
(89, '+992928966046', '1111', '2026-01-14 05:36:09', '2026-01-14 07:41:09', 1),
(90, '+992927199559', '1111', '2026-01-14 06:07:10', '2026-01-14 08:12:10', 1),
(91, '+992988888888', '1111', '2026-01-15 12:44:12', '2026-01-15 14:49:12', 1),
(92, '+992988888888', '1111', '2026-01-16 04:53:19', '2026-01-16 06:58:19', 1),
(93, '+992988888888', '1111', '2026-01-16 05:23:34', '2026-01-16 07:28:34', 1),
(94, '+992988888888', '1111', '2026-01-16 05:30:23', '2026-01-16 07:35:23', 1),
(95, '+992987046624', '1111', '2026-01-19 06:20:35', '2026-01-19 08:25:35', 1);

-- --------------------------------------------------------

--
-- Структура таблицы `users`
--
-- Создание: Янв 20 2026 г., 04:43
-- Последнее обновление: Янв 22 2026 г., 03:58
--

DROP TABLE IF EXISTS `users`;
CREATE TABLE `users` (
  `id` int NOT NULL,
  `username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `phone_number` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `email` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `avatar` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `auth_token` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `fcm_token` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Дамп данных таблицы `users`
--

INSERT INTO `users` (`id`, `username`, `phone_number`, `email`, `avatar`, `created_at`, `auth_token`, `fcm_token`) VALUES
(1, 'Behruz', '+1234567890', NULL, '693003f8da13c_1.jpg', '2025-11-24 04:31:01', '6c850181378625cdabb43cfc5e5b805dda5544e4e1d146e34218d24c330f4ada', NULL),
(7, 'User_6930126e85c73', '+992987046624', NULL, '6939441029505_7.jpg', '2025-12-03 10:35:26', '3dcf3c53cf3ebdb3af396d63043d5596063f143e412816f374bceeeb5a8fa381', 'e9TvhQFZQAuSetZKNaPPLR:APA91bHWx4fdA3OYE2FtvOfJPalctoFEWy6LgDEFhStkT7-QVYGSdcZ7e-O-SeAaAzO4XSaSi4vG7jMOrP5stEItQC5Dv2fflczChdIo4qM3r45p_3l4-eo'),
(8, 'User_6930332a4cb12', '+992987046620', NULL, NULL, '2025-12-03 12:55:06', NULL, NULL),
(9, 'User_693039a55bc04', '+7987046624', NULL, NULL, '2025-12-03 13:22:45', NULL, NULL),
(10, 'User_69365a9a1cfbd', '+992987654321', NULL, NULL, '2025-12-08 04:56:58', 'd967dcabce024f0e8c9cbeceec40ab46729375a4725304bd5da1f36c31db717d', NULL),
(11, 'User_6937ee94a162d', '+992987777777', NULL, NULL, '2025-12-09 09:40:36', 'd74fed0be196e2b5b86aeff28c1abe3d702ceaccac0a4f02b85fb79b88001a95', NULL),
(12, 'User_693923bae6c25', '+992918906014', NULL, NULL, '2025-12-10 07:39:38', '24b817e2ebed30154ebe27edbe39a150f9b2c271c296c00b1a40493b49c342e0', NULL),
(13, 'User_694035f2eb29b', '+992988888888', NULL, '6940ee2a0016d_13.jpg', '2025-12-15 16:23:14', '1e93d37933ac83fe95f7fb52e6c2317a7f28c1a342e22e033a4afde945a3229b', NULL),
(14, 'User_69404310ba29b', '+99298888888', NULL, NULL, '2025-12-15 17:19:12', 'be3e112762e8f1a168104e31a2820e43da4ab48cb1e9377c522b452df079ff94', NULL),
(15, 'User_69404d42bddaa', '987654321', NULL, NULL, '2025-12-15 18:02:42', '7036abd78ad4a17fc0e693cf43bc57f23d294e63123696227396968b898bf1f4', NULL),
(16, 'User_695aa22a1fc6d', '+992907466244', NULL, NULL, '2026-01-04 17:23:54', '6799047b02511a861db19460be2e6767832ff4b258e65a4e3feb5833c33e04c6', NULL),
(17, 'User_695aa30d91e8c', '+99268', NULL, NULL, '2026-01-04 17:27:41', 'e64a03be74cb169ca19183a70512121ac4f565cd61ba31ab14c4aa836b025ef8', NULL),
(18, 'User_69672c506a62b', '+992928966046', NULL, NULL, '2026-01-14 05:40:32', '9a575524458fedd857dcee4a882f54773973ab3fda6585a0b0db4bf1cdbe4345', NULL),
(19, 'User_696732babd0ab', '+992927199559', NULL, NULL, '2026-01-14 06:07:54', NULL, 'test_fcm_token_abc123xyz789');

-- --------------------------------------------------------

--
-- Структура таблицы `user_settings`
--
-- Создание: Дек 11 2025 г., 18:37
--

DROP TABLE IF EXISTS `user_settings`;
CREATE TABLE `user_settings` (
  `id` int NOT NULL,
  `user_id` int NOT NULL,
  `language` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT 'en',
  `theme` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT 'light',
  `ringtone` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT 'default',
  `vibration` tinyint(1) DEFAULT '1',
  `speakerphone` tinyint(1) DEFAULT '0',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Дамп данных таблицы `user_settings`
--

INSERT INTO `user_settings` (`id`, `user_id`, `language`, `theme`, `ringtone`, `vibration`, `speakerphone`, `created_at`) VALUES
(1, 1, 'en', 'dark', 'default', 1, 0, '2025-11-24 04:31:02');

--
-- Индексы сохранённых таблиц
--

--
-- Индексы таблицы `blocked_contacts`
--
ALTER TABLE `blocked_contacts`
  ADD PRIMARY KEY (`id`),
  ADD KEY `user_id` (`user_id`);

--
-- Индексы таблицы `call_history`
--
ALTER TABLE `call_history`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_call_history_caller_id` (`caller_id`),
  ADD KEY `idx_call_history_callee_id` (`callee_id`),
  ADD KEY `idx_call_history_call_time` (`call_time`),
  ADD KEY `idx_call_history_deleted_flags` (`deleted_by_caller`,`deleted_by_callee`);

--
-- Индексы таблицы `chats`
--
ALTER TABLE `chats`
  ADD PRIMARY KEY (`id`),
  ADD KEY `created_by` (`created_by`),
  ADD KEY `idx_chats_deleted_for_everyone` (`is_deleted_for_everyone`);

--
-- Индексы таблицы `chat_deletion_status`
--
ALTER TABLE `chat_deletion_status`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `unique_chat_user` (`chat_id`,`user_id`),
  ADD KEY `idx_chat_deletion_status_chat_id` (`chat_id`),
  ADD KEY `idx_chat_deletion_status_user_id` (`user_id`);

--
-- Индексы таблицы `chat_notification_settings`
--
ALTER TABLE `chat_notification_settings`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `unique_user_chat_setting` (`user_id`,`chat_id`),
  ADD KEY `idx_chat_notification_settings_user_id` (`user_id`),
  ADD KEY `idx_chat_notification_settings_chat_id` (`chat_id`);

--
-- Индексы таблицы `chat_participants`
--
ALTER TABLE `chat_participants`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `unique_participant` (`chat_id`,`user_id`),
  ADD KEY `idx_chat_participants_chat_id` (`chat_id`),
  ADD KEY `idx_chat_participants_user_id` (`user_id`);

--
-- Индексы таблицы `contacts`
--
ALTER TABLE `contacts`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_contacts_user_id` (`user_id`);

--
-- Индексы таблицы `messages`
--
ALTER TABLE `messages`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_messages_chat_id` (`chat_id`),
  ADD KEY `idx_messages_sender_id` (`sender_id`),
  ADD KEY `idx_messages_sent_at` (`sent_at`),
  ADD KEY `idx_messages_reply_to` (`reply_to`);

--
-- Индексы таблицы `message_receipts`
--
ALTER TABLE `message_receipts`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `unique_receipt` (`message_id`,`user_id`,`receipt_type`),
  ADD KEY `idx_message_receipts_message_id` (`message_id`),
  ADD KEY `idx_message_receipts_user_id` (`user_id`);

--
-- Индексы таблицы `notification_settings`
--
ALTER TABLE `notification_settings`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `user_id` (`user_id`);

--
-- Индексы таблицы `sms_codes`
--
ALTER TABLE `sms_codes`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_phone_number` (`phone_number`),
  ADD KEY `idx_expires_at` (`expires_at`);

--
-- Индексы таблицы `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `phone_number` (`phone_number`),
  ADD KEY `idx_users_fcm_token` (`fcm_token`);

--
-- Индексы таблицы `user_settings`
--
ALTER TABLE `user_settings`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `user_id` (`user_id`),
  ADD KEY `idx_user_settings_user_id` (`user_id`);

--
-- AUTO_INCREMENT для сохранённых таблиц
--

--
-- AUTO_INCREMENT для таблицы `blocked_contacts`
--
ALTER TABLE `blocked_contacts`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT для таблицы `call_history`
--
ALTER TABLE `call_history`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=23;

--
-- AUTO_INCREMENT для таблицы `chats`
--
ALTER TABLE `chats`
  MODIFY `id` bigint NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=49;

--
-- AUTO_INCREMENT для таблицы `chat_deletion_status`
--
ALTER TABLE `chat_deletion_status`
  MODIFY `id` bigint NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT для таблицы `chat_notification_settings`
--
ALTER TABLE `chat_notification_settings`
  MODIFY `id` bigint NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=32;

--
-- AUTO_INCREMENT для таблицы `chat_participants`
--
ALTER TABLE `chat_participants`
  MODIFY `id` bigint NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=120;

--
-- AUTO_INCREMENT для таблицы `contacts`
--
ALTER TABLE `contacts`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=16;

--
-- AUTO_INCREMENT для таблицы `messages`
--
ALTER TABLE `messages`
  MODIFY `id` bigint NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=30;

--
-- AUTO_INCREMENT для таблицы `message_receipts`
--
ALTER TABLE `message_receipts`
  MODIFY `id` bigint NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=34715;

--
-- AUTO_INCREMENT для таблицы `notification_settings`
--
ALTER TABLE `notification_settings`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=16;

--
-- AUTO_INCREMENT для таблицы `sms_codes`
--
ALTER TABLE `sms_codes`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=96;

--
-- AUTO_INCREMENT для таблицы `users`
--
ALTER TABLE `users`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=20;

--
-- AUTO_INCREMENT для таблицы `user_settings`
--
ALTER TABLE `user_settings`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- Ограничения внешнего ключа сохраненных таблиц
--

--
-- Ограничения внешнего ключа таблицы `blocked_contacts`
--
ALTER TABLE `blocked_contacts`
  ADD CONSTRAINT `blocked_contacts_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE;

--
-- Ограничения внешнего ключа таблицы `chats`
--
ALTER TABLE `chats`
  ADD CONSTRAINT `chats_ibfk_1` FOREIGN KEY (`created_by`) REFERENCES `users` (`id`) ON DELETE SET NULL;

--
-- Ограничения внешнего ключа таблицы `chat_deletion_status`
--
ALTER TABLE `chat_deletion_status`
  ADD CONSTRAINT `chat_deletion_status_ibfk_1` FOREIGN KEY (`chat_id`) REFERENCES `chats` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `chat_deletion_status_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE;

--
-- Ограничения внешнего ключа таблицы `chat_notification_settings`
--
ALTER TABLE `chat_notification_settings`
  ADD CONSTRAINT `chat_notification_settings_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `chat_notification_settings_ibfk_2` FOREIGN KEY (`chat_id`) REFERENCES `chats` (`id`) ON DELETE CASCADE;

--
-- Ограничения внешнего ключа таблицы `chat_participants`
--
ALTER TABLE `chat_participants`
  ADD CONSTRAINT `chat_participants_ibfk_1` FOREIGN KEY (`chat_id`) REFERENCES `chats` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `chat_participants_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE;

--
-- Ограничения внешнего ключа таблицы `messages`
--
ALTER TABLE `messages`
  ADD CONSTRAINT `messages_ibfk_1` FOREIGN KEY (`chat_id`) REFERENCES `chats` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `messages_ibfk_2` FOREIGN KEY (`sender_id`) REFERENCES `users` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `messages_ibfk_3` FOREIGN KEY (`reply_to`) REFERENCES `messages` (`id`) ON DELETE SET NULL;

--
-- Ограничения внешнего ключа таблицы `message_receipts`
--
ALTER TABLE `message_receipts`
  ADD CONSTRAINT `message_receipts_ibfk_1` FOREIGN KEY (`message_id`) REFERENCES `messages` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `message_receipts_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE;

--
-- Ограничения внешнего ключа таблицы `notification_settings`
--
ALTER TABLE `notification_settings`
  ADD CONSTRAINT `notification_settings_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE;

--
-- Ограничения внешнего ключа таблицы `user_settings`
--
ALTER TABLE `user_settings`
  ADD CONSTRAINT `user_settings_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
